var f=(x,c,a)=>new Promise((l,r)=>{var d=s=>{try{n(a.next(s))}catch(o){r(o)}},i=s=>{try{n(a.throw(s))}catch(o){r(o)}},n=s=>s.done?l(s.value):Promise.resolve(s.value).then(d,i);n((a=a.apply(x,c)).next())});import{r as m,j as e,X as N,ak as g,M as b,f as v}from"./react-vendor-BnMxgzCM.js";import{I as p,B as j,a as w}from"./admin-B3cU-nTP.js";import{P as S}from"./dashboard-Bsi_AYrO.js";import{N as P}from"./onboarding-CDs6NGXK.js";import"./vendor-C9A41NUf.js";import"./editor-C5-21oKP.js";const k=({isOpen:x,onClose:c,onSubmit:a})=>{const[l,r]=m.useState(""),[d,i]=m.useState(!1),[n,s]=m.useState(""),[o,u]=m.useState(!1),h=t=>f(void 0,null,function*(){t.preventDefault(),s(""),i(!0);try{yield a(l),u(!0),setTimeout(()=>{c(),u(!1),r("")},3e3)}catch(y){s(y.message||"Failed to send reset email. Please try again.")}finally{i(!1)}});return x?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full max-w-md glass-effect rounded-xl border border-primary-500/30 p-6 shadow-2xl",children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(N,{size:20})}),o?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(g,{className:"w-8 h-8 text-green-600"})})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-900 mb-2",children:"Email Sent!"}),e.jsx("p",{className:"text-slate-600",children:"Check your inbox for password reset instructions."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx(b,{className:"w-6 h-6 text-primary-600"})})}),e.jsx("h2",{className:"text-2xl font-bold text-dark-900 mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsx(p,{label:"Email Address",type:"email",value:l,onChange:t=>r(t.target.value),placeholder:"Enter your email",required:!0,className:"w-full"}),n&&e.jsx("div",{className:"p-3 glass-effect border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:n})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(j,{type:"button",variant:"outline",onClick:c,className:"flex-1",disabled:d,children:"Cancel"}),e.jsx(j,{type:"submit",loading:d,className:"flex-1",disabled:d||!l,children:"Send Reset Link"})]})]})]})]})}):null},D=({onLogin:x,onSwitchToRegister:c,error:a,loading:l=!1})=>{const[r,d]=m.useState(""),[i,n]=m.useState(""),[s,o]=m.useState(!1),u=t=>f(void 0,null,function*(){t.preventDefault(),r&&i&&(yield x(r,i))}),h=t=>f(void 0,null,function*(){yield w.request("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:t})})});return e.jsxs("div",{className:"min-h-screen relative floating-particles flex items-center justify-center p-6 bg-gradient-to-br from-primary-100/40 via-white to-accent-100/30",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-primary-500/5 rounded-full blur-3xl animate-drift"}),e.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-drift",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-48 h-48 bg-accent-500/5 rounded-full blur-3xl animate-drift",style:{animationDelay:"4s"}})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(S,{size:"xl"})}),e.jsx("h1",{className:"text-3xl font-bold shimmer-text mb-2",children:"Welcome to Py"}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(v,{className:"w-4 h-4 text-primary-400 animate-sparkle"}),e.jsx("p",{className:"text-slate-500",children:"Your AI Strategic Companion"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(P,{message:"Hello! I'm Py, your AI strategy assistant. Please sign in to begin building your company's future.",type:"info"})}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsx("div",{className:"glass-effect p-6 rounded-lg border border-primary-500/30",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{label:"Email Address",type:"email",value:r,onChange:t=>d(t.target.value),placeholder:"Enter your email",required:!0,className:"w-full"}),e.jsxs("div",{children:[e.jsx(p,{label:"Password",type:"password",value:i,onChange:t=>n(t.target.value),placeholder:"Enter your password",required:!0,className:"w-full"}),e.jsx("div",{className:"mt-2 text-right",children:e.jsx("button",{type:"button",onClick:()=>o(!0),className:"text-sm text-primary-500 hover:text-primary-600 transition-colors font-medium",children:"Forgot Password?"})})]}),a&&e.jsx("div",{className:"p-3 glass-effect border border-red-500/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-400",children:a})}),e.jsxs(j,{type:"submit",loading:l,className:"w-full flex items-center justify-center",size:"lg",disabled:l,children:[e.jsx(b,{size:16,className:"mr-2"}),"Sign In to Py"]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-slate-500 text-sm",children:["New to Py?"," ",e.jsx("button",{type:"button",onClick:c,className:"text-primary-400 hover:text-primary-300 transition-colors font-medium",children:"Create your account"})]})})]}),e.jsx(k,{isOpen:s,onClose:()=>o(!1),onSubmit:h})]})]})};export{D as LoginForm};
