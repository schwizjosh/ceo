const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/pages-Bj0zDlU_.js","assets/js/react-vendor-BnMxgzCM.js","assets/js/vendor-C9A41NUf.js","assets/js/editor-C5-21oKP.js","assets/js/admin-Cm5kHlQR.js","assets/js/dashboard-DaWqLiFN.js","assets/js/onboarding-BVeZRzBR.js","assets/js/LoginForm-C4IKhRE1.js","assets/js/RegisterForm-igv8id9a.js","assets/js/DemoLoginPage-Ce_5Z4OD.js","assets/js/AdminLoginPage-B4RDfy4j.js"])))=>i.map(i=>d[i]);
var j=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var f=(t,a,i)=>new Promise((l,r)=>{var o=p=>{try{m(i.next(p))}catch(h){r(h)}},s=p=>{try{m(i.throw(p))}catch(h){r(h)}},m=p=>p.done?l(p.value):Promise.resolve(p.value).then(o,s);m((i=i.apply(t,a)).next())});import{r as n,j as e,aB as _,X as v,aD as y,u as b,O as E,Q as c,V as u,aE as P}from"./react-vendor-BnMxgzCM.js";import{_ as d,L as w}from"./dashboard-DaWqLiFN.js";import{u as L,a as D}from"./pages-Bj0zDlU_.js";import"./vendor-C9A41NUf.js";import"./editor-C5-21oKP.js";import"./admin-Cm5kHlQR.js";import"./onboarding-BVeZRzBR.js";var H=j(x=>{(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();const R=()=>{const[t,a]=n.useState(null),[i,l]=n.useState(!1);n.useEffect(()=>{const s=m=>{m.preventDefault(),a(m),l(!0)};return window.addEventListener("beforeinstallprompt",s),window.matchMedia("(display-mode: standalone)").matches&&l(!1),()=>{window.removeEventListener("beforeinstallprompt",s)}},[]);const r=()=>f(x,null,function*(){if(!t)return;t.prompt();const{outcome:s}=yield t.userChoice;console.log(`User response to the install prompt: ${s}`),a(null),l(!1)}),o=()=>{l(!1),localStorage.setItem("installBannerDismissed",Date.now().toString())};return n.useEffect(()=>{const s=localStorage.getItem("installBannerDismissed");s&&(Date.now()-parseInt(s))/864e5<7&&l(!1)},[]),i?e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 animate-slide-up",children:e.jsx("div",{className:"max-w-2xl mx-auto glass-effect border border-primary-500/30 rounded-2xl p-4 shadow-2xl bg-gradient-to-r from-primary-500/10 to-purple-500/10",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden flex-shrink-0",children:e.jsx("img",{src:"/icons/icon-96x96.png",alt:"Andora",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-primary-900 font-semibold mb-1",children:"Install Andora App"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Get the native app experience with offline access and notifications"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:r,className:"px-4 py-2 bg-gradient-to-r from-primary-600 to-purple-600 text-white rounded-lg font-medium hover:from-primary-500 hover:to-purple-500 transition-all duration-300 flex items-center gap-2 whitespace-nowrap",children:[e.jsx(_,{size:16}),"Install"]}),e.jsx("button",{onClick:o,className:"p-2 text-slate-500 hover:text-primary-500 transition-colors","aria-label":"Dismiss",children:e.jsx(v,{size:20})})]})]})})}):null},A=n.lazy(()=>d(()=>import("./pages-Bj0zDlU_.js").then(t=>t.H),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.HomePage}))),O=n.lazy(()=>d(()=>import("./pages-Bj0zDlU_.js").then(t=>t.C),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.ContactPage}))),I=n.lazy(()=>d(()=>import("./pages-Bj0zDlU_.js").then(t=>t.P),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.PrivacyPage}))),N=n.lazy(()=>d(()=>import("./pages-Bj0zDlU_.js").then(t=>t.b),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.PricingPage}))),S=n.lazy(()=>d(()=>import("./pages-Bj0zDlU_.js").then(t=>t.B),__vite__mapDeps([0,1,2,3,4,5,6])).then(t=>({default:t.BiographyPage}))),T=n.lazy(()=>d(()=>import("./LoginForm-C4IKhRE1.js"),__vite__mapDeps([7,1,2,3,4,5,6])).then(t=>({default:t.LoginForm}))),z=n.lazy(()=>d(()=>import("./RegisterForm-igv8id9a.js"),__vite__mapDeps([8,1,2,3,4,5,6])).then(t=>({default:t.RegisterForm}))),V=n.lazy(()=>d(()=>import("./DemoLoginPage-Ce_5Z4OD.js"),__vite__mapDeps([9,1,2,3,4,5,6])).then(t=>({default:t.DemoLoginPage}))),B=n.lazy(()=>d(()=>import("./AdminLoginPage-B4RDfy4j.js"),__vite__mapDeps([10,1,2,3,4,5,6])).then(t=>({default:t.AdminLoginPage}))),C=n.lazy(()=>d(()=>import("./dashboard-DaWqLiFN.js").then(t=>t.D),__vite__mapDeps([5,1,2,3,4])).then(t=>({default:t.Dashboard}))),F=n.lazy(()=>d(()=>import("./onboarding-BVeZRzBR.js").then(t=>t.A),__vite__mapDeps([6,1,2,3,4,5])).then(t=>({default:t.AppOnboarding})));function M(){const t=b();L();const{authUser:a,isAuthenticated:i,isAdmin:l,authLoading:r,authError:o,login:s,register:m,logout:p}=D();if(r)return e.jsx("div",{className:"min-h-screen relative floating-particles flex items-center justify-center p-6 bg-gradient-to-br from-primary-100/40 via-white to-accent-100/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});const h=localStorage.getItem("hasSeenOnboarding")==="true";return e.jsx(n.Suspense,{fallback:e.jsx(w,{}),children:e.jsxs(E,{children:[e.jsx(c,{path:"/welcome",element:e.jsx(F,{})}),e.jsx(c,{path:"/",element:e.jsx(A,{})}),e.jsx(c,{path:"/contact",element:e.jsx(O,{})}),e.jsx(c,{path:"/privacy",element:e.jsx(I,{})}),e.jsx(c,{path:"/pricing",element:e.jsx(N,{})}),e.jsx(c,{path:"/biography",element:e.jsx(S,{})}),e.jsx(c,{path:"/login",element:i?e.jsx(u,{to:"/dashboard",replace:!0}):h?e.jsx(T,{onLogin:s,onSwitchToRegister:()=>t("/register"),error:o||void 0,loading:r}):e.jsx(u,{to:"/welcome",replace:!0})}),e.jsx(c,{path:"/register",element:i?e.jsx(u,{to:"/dashboard",replace:!0}):h?e.jsx(z,{onRegister:m,onSwitchToLogin:()=>t("/login"),error:o||void 0,loading:r}):e.jsx(u,{to:"/welcome",replace:!0})}),e.jsx(c,{path:"/898-demo",element:i?e.jsx(u,{to:"/dashboard",replace:!0}):e.jsx(V,{onLogin:s,error:o||void 0,loading:r})}),e.jsx(c,{path:"/898-admin",element:i?e.jsx(u,{to:"/dashboard",replace:!0}):e.jsx(B,{onLogin:s,error:o||void 0,loading:r})}),e.jsx(c,{path:"/dashboard/*",element:i?e.jsx(C,{user:a,onLogout:p,isAdmin:l}):e.jsx(u,{to:"/login",replace:!0})}),e.jsx(c,{path:"*",element:e.jsx(u,{to:"/",replace:!0})})]})})}function k(){return e.jsxs(y,{children:[e.jsx(M,{}),e.jsx(R,{})]})}console.log("üöÄ Main.tsx initializing...");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("‚úÖ Service Worker registered:",t.scope)}).catch(t=>{console.error("‚ùå Service Worker registration failed:",t)})});const g=document.getElementById("root");if(!g)console.error("‚ùå Root element not found!"),document.body.innerHTML='<div style="color: white; padding: 20px;">Error: Root element not found</div>';else{console.log("‚úÖ Root element found, creating React app...");try{P(g).render(e.jsx(n.StrictMode,{children:e.jsx(k,{})})),console.log("‚úÖ React app rendered successfully")}catch(t){console.error("‚ùå Error rendering React app:",t),g.innerHTML=`<div style="color: white; padding: 20px;">Error rendering app: ${t}</div>`}}});export default H();
